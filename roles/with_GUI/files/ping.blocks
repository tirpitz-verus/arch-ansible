#!/usr/bin/env bash

PING=$(timeout -k 0 2s ping -c 1 8.8.8.8 | awk 'END{ split($4,a,"/"); split(a[1],b,"."); print b[1]; }' || echo "ERR")

if [[ $PING -eq "ERR" ]]; then
    color="red"
elif [[ $PING -le 100 ]]; then
    color="lime"
elif [[ $PING -le 1000 ]]; then
    color="yellow"
elif [[ $PING -le 2000 ]]; then
    color="orange"
else
    color="sienna"
fi

echo "<span foreground=\"$color\">$PING</span>"
